{"ast":null,"code":"var _jsxFileName = \"E:\\\\projectmern\\\\project0\\\\src\\\\editprofile.js\";\nimport React, { Component } from \"react\";\nimport NavBar from \"./navbar.js\";\nimport Footer from \"./footer.js\";\n\nclass editProfile extends Component {\n  constructor() {\n    super();\n\n    this.changehandler = name => event => {\n      this.setState({\n        [name]: event.target.value\n      });\n    };\n\n    this.state = {\n      fullname: \"\",\n      email: \"\",\n      password: \"\"\n    };\n    this.changehandler = this.changehandler.bind(this);\n    this.submithandler = this.submithandler.bind(this);\n  }\n\n  async submithandler(event) {\n    event.preventDefault();\n    await fetch('http://localhost:4000/editprofile', {\n      method: 'put',\n      headers: {\n        'Content-Type': 'application/json',\n        'accept': \"application/json\"\n      },\n      body: JSON.stringify({\n        \"fullname\": this.state.fullname,\n        \"email\": this.state.email,\n        \"password\": this.state.password\n      })\n    }).then(res => res.json()).then(res => localStorage.setItem('tok', res.token));\n\n    if (localStorage.getItem('tok') !== 'undefined' && localStorage.getItem('tok')) {\n      this.props.history.push('/editprofile');\n    } else {\n      this.setState({\n        staus: \"Failed\"\n      });\n    }\n  }\n\n  render() {\n    const {\n      useremail,\n      username,\n      userpassword\n    } = this.state;\n    return React.createElement(\"div\", {\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 53\n      },\n      __self: this\n    }, React.createElement(NavBar, {\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 54\n      },\n      __self: this\n    }), React.createElement(\"div\", {\n      class: \"container\",\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 55\n      },\n      __self: this\n    }, React.createElement(\"div\", {\n      class: \"row\",\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 58\n      },\n      __self: this\n    }, React.createElement(\"div\", {\n      class: \"col-md-9 personal-info\",\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 60\n      },\n      __self: this\n    }, React.createElement(\"h3\", {\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 62\n      },\n      __self: this\n    }, \"Personal info\"), React.createElement(\"form\", {\n      class: \"form-horizontal\",\n      role: \"form\",\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 64\n      },\n      __self: this\n    }, React.createElement(\"div\", {\n      class: \"form-group\",\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 65\n      },\n      __self: this\n    }, React.createElement(\"label\", {\n      class: \"col-lg-3 control-label\",\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 66\n      },\n      __self: this\n    }, \"Full name:\"), React.createElement(\"div\", {\n      class: \"col-lg-8\",\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 67\n      },\n      __self: this\n    }, React.createElement(\"input\", {\n      class: \"form-control\",\n      type: \"text\",\n      defaultValue: this.props.username,\n      value: this.state.fullname,\n      onChange: this.changehandler(\"fullname\"),\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 68\n      },\n      __self: this\n    }))), React.createElement(\"div\", {\n      class: \"form-group\",\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 72\n      },\n      __self: this\n    }, React.createElement(\"label\", {\n      class: \"col-lg-3 control-label\",\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 73\n      },\n      __self: this\n    }, \"Email:\"), React.createElement(\"div\", {\n      class: \"col-lg-8\",\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 74\n      },\n      __self: this\n    }, React.createElement(\"input\", {\n      class: \"form-control\",\n      defaultValue: this.props.useremail,\n      type: \"text\",\n      value: this.state.email,\n      onChange: this.changehandler(\"email\"),\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 75\n      },\n      __self: this\n    }))), React.createElement(\"div\", {\n      class: \"form-group\",\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 80\n      },\n      __self: this\n    }, React.createElement(\"label\", {\n      class: \"col-md-3 control-label\",\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 81\n      },\n      __self: this\n    }, \"Password:\"), React.createElement(\"div\", {\n      class: \"col-md-8\",\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 82\n      },\n      __self: this\n    }, React.createElement(\"input\", {\n      class: \"form-control\",\n      type: \"password\",\n      defaultValue: this.props.userpassword,\n      value: this.state.password,\n      onChange: this.changehandler(\"password\"),\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 83\n      },\n      __self: this\n    }))), React.createElement(\"div\", {\n      class: \"form-group\",\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 87\n      },\n      __self: this\n    }, React.createElement(\"label\", {\n      class: \"col-md-3 control-label\",\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 88\n      },\n      __self: this\n    }), React.createElement(\"div\", {\n      class: \"col-md-8\",\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 89\n      },\n      __self: this\n    }, React.createElement(\"input\", {\n      type: \"button\",\n      class: \"btn btn-primary\",\n      value: \"Save Changes\",\n      onClick: this.submithandler,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 90\n      },\n      __self: this\n    }), React.createElement(\"span\", {\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 91\n      },\n      __self: this\n    }), React.createElement(\"input\", {\n      type: \"reset\",\n      class: \"btn btn-default\",\n      value: \"Cancel\",\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 92\n      },\n      __self: this\n    }))))))), React.createElement(Footer, {\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 100\n      },\n      __self: this\n    }));\n  }\n\n}\n\nexport default editProfile;","map":{"version":3,"sources":["E:/projectmern/project0/src/editprofile.js"],"names":["React","Component","NavBar","Footer","editProfile","constructor","changehandler","name","event","setState","target","value","state","fullname","email","password","bind","submithandler","preventDefault","fetch","method","headers","body","JSON","stringify","then","res","json","localStorage","setItem","token","getItem","props","history","push","staus","render","useremail","username","userpassword"],"mappings":"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","sourcesContent":["import React, { Component } from \"react\"\r\nimport NavBar from \"./navbar.js\"\r\nimport Footer from \"./footer.js\"\r\n\r\nclass editProfile extends Component {\r\n    \r\n    constructor(){\r\n        super()\r\n        this.state = {\r\n            fullname: \"\",\r\n            email: \"\",\r\n            password:\"\"\r\n            \r\n        }\r\n        this.changehandler = this.changehandler.bind(this);\r\n        this.submithandler = this.submithandler.bind(this);\r\n    }\r\n\r\n    async submithandler(event){\r\n\t\tevent.preventDefault();\r\n        await fetch('http://localhost:4000/editprofile',{\r\n            method: 'put',\r\n            headers: {'Content-Type': 'application/json', 'accept': \"application/json\"},\r\n            body: JSON.stringify({\r\n                \"fullname\":this.state.fullname,\r\n                \"email\":this.state.email,\r\n\t\t\t\t\"password\":this.state.password,\r\n\t\t\t})\r\n\t\t\t\r\n\t\t\t\r\n        }).then(res=>res.json()).then((res=>localStorage.setItem('tok',res.token)))\r\n    \r\nif(localStorage.getItem('tok')!=='undefined' && localStorage.getItem('tok')){\r\n\tthis.props.history.push('/editprofile')\r\n}\r\n\telse{\r\n\t\tthis.setState({staus:\"Failed\"})\r\n\t}\r\n}\r\n\r\nchangehandler = name => event => {\r\n    this.setState({\r\n        [name]: event.target.value\r\n    })\r\n    }\r\n    \r\n    \r\n    \r\n    \r\n    render() {\r\n       const{useremail,username,userpassword} = this.state;\r\n        return (\r\n            <div>\r\n                <NavBar />\r\n                <div class=\"container\">\r\n    \r\n  \t\r\n    <div class=\"row\">\r\n      \r\n      <div class=\"col-md-9 personal-info\">\r\n        \r\n        <h3>Personal info</h3>\r\n        \r\n        <form class=\"form-horizontal\" role=\"form\">\r\n          <div class=\"form-group\">\r\n            <label class=\"col-lg-3 control-label\">Full name:</label>\r\n            <div class=\"col-lg-8\">\r\n              <input class=\"form-control\" type=\"text\" defaultValue={this.props.username} value={this.state.fullname} onChange={this.changehandler(\"fullname\")} />\r\n            </div>\r\n          </div>\r\n          \r\n          <div class=\"form-group\">\r\n            <label class=\"col-lg-3 control-label\">Email:</label>\r\n            <div class=\"col-lg-8\">\r\n              <input class=\"form-control\" defaultValue={this.props.useremail} type=\"text\" value={this.state.email} onChange={this.changehandler(\"email\")} />\r\n            </div>\r\n          </div>\r\n          \r\n         \r\n          <div class=\"form-group\">\r\n            <label class=\"col-md-3 control-label\">Password:</label>\r\n            <div class=\"col-md-8\">\r\n              <input class=\"form-control\" type=\"password\" defaultValue={this.props.userpassword} value={this.state.password} onChange={this.changehandler(\"password\")} />\r\n            </div>\r\n          </div>\r\n          \r\n          <div class=\"form-group\">\r\n            <label class=\"col-md-3 control-label\"></label>\r\n            <div class=\"col-md-8\">\r\n              <input type=\"button\" class=\"btn btn-primary\" value=\"Save Changes\" onClick = {this.submithandler} />\r\n              <span></span>\r\n              <input type=\"reset\" class=\"btn btn-default\" value=\"Cancel\" />\r\n            </div>\r\n          </div>\r\n        </form>\r\n      </div>\r\n  </div>\r\n</div>\r\n\r\n                <Footer/>\r\n            </div>\r\n            \r\n        )\r\n    }\r\n}\r\n\r\n\r\n\r\n\r\nexport default editProfile"]},"metadata":{},"sourceType":"module"}